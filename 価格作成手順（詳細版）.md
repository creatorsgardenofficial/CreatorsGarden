# Stripe価格作成手順（詳細版）

## 🎯 目的

Grow Plan（¥200/月）の価格IDを取得するために、Stripeダッシュボードで価格を作成します。

---

## 📝 ステップバイステップ手順

### ステップ1: Stripeダッシュボードにアクセス

1. ブラウザで https://dashboard.stripe.com にアクセス
2. アカウントにログイン
3. **右上の「テストモード」スイッチがON**になっていることを確認
   - スイッチが青くなっていればOK
   - オフの場合はクリックしてONにする

### ステップ2: 製品ページに移動

1. 左側のメニューから「**製品**」（Products）をクリック
2. 製品一覧が表示されます

### ステップ3: 製品を確認または作成

#### 既に製品がある場合

- 製品一覧から、使用したい製品をクリック
- 製品の詳細ページが開きます
- **次のステップ4に進む**

#### 製品がない場合

1. 「**製品を追加**」または「**Add product**」ボタンをクリック
2. 製品名を入力（例: "Grow Plan"）
3. 説明を入力（任意）
4. 「**保存**」または「**Save**」をクリック
5. 製品の詳細ページが開きます

### ステップ4: 価格を追加

製品の詳細ページで：

1. 「**価格を追加**」または「**Add price**」ボタンを探す
   - ページの上部または価格セクションにあります
2. ボタンをクリック

### ステップ5: 価格の設定

価格作成フォームで以下の設定を行います：

#### 必須項目

1. **価格タイプ（Pricing model）**
   - 「**定期**」（Recurring）を選択
   - 「**One-time**」（一回限り）ではなく、「**Recurring**」を選択

2. **価格（Price）**
   - `200` を入力

3. **通貨（Currency）**
   - `JPY`（日本円）を選択
   - ドロップダウンから選択

4. **請求期間（Billing period）**
   - 「**月次**」（Monthly）を選択
   - 「**Weekly**」（週次）や「**Yearly**」（年次）ではなく、「**Monthly**」を選択

#### オプション項目（デフォルトのままでOK）

- 請求間隔: `1`（1ヶ月ごと）
- その他の設定: デフォルトのままでOK

### ステップ6: 価格を保存

1. 「**価格を追加**」または「**Add price**」ボタンをクリック
2. 価格が作成されます

### ステップ7: 価格IDをコピー

価格が作成されると、以下のいずれかの場所に価格IDが表示されます：

#### 場所1: 価格の詳細ページ

- 価格を作成すると、価格の詳細ページが自動的に開きます
- ページの上部に「**価格ID**」または「**Price ID**」が表示されます
- `price_`で始まる文字列をコピー

#### 場所2: 製品の詳細ページ

- 製品の詳細ページに戻る
- 「**価格**」セクションに、作成した価格が表示されます
- 価格の横に価格ID（`price_...`）が表示されます
- 価格IDをクリックするとコピーできます

#### 場所3: 価格一覧

1. 左メニューから「**製品**」→「**価格**」をクリック
2. 価格一覧が表示されます
3. 作成した価格（¥200/月）を見つける
4. 価格ID（`price_...`）をコピー

---

## 📋 価格IDの例

価格IDは以下のような形式です：

```
price_1ABC123def456GHI789jkl012MNO345
```

- `price_`で始まる
- 英数字で構成される
- 約30文字程度

---

## ✅ 価格IDを取得したら

`.env.local`ファイルを開き、以下の行を修正してください：

```env
# 修正前
#STRIPE_PRICE_ID_GROW=prod_TQxePKFobXjHmj

# 修正後
STRIPE_PRICE_ID_GROW=price_1ABC123def456GHI789
```

（`price_1ABC123def456GHI789`は実際の価格IDに置き換えてください）

**重要**:
- コメント（`#`）を外す
- 製品ID（`prod_...`）ではなく、価格ID（`price_...`）を設定

---

## 🔍 価格IDが見つからない場合のトラブルシューティング

### 問題1: 「価格を追加」ボタンが見つからない

**解決方法**:
- 製品の詳細ページを確認してください
- ページをリロードしてみてください
- 別のブラウザで試してみてください

### 問題2: 価格を作成したが価格IDが表示されない

**解決方法**:
- 価格の詳細ページを開いて確認してください
- 価格一覧から確認してください
- ページをリロードしてみてください

### 問題3: テストモードと本番モードで異なる価格IDが表示される

**これは正常です**:
- テストモードと本番モードでは、異なる価格IDが表示されます
- 開発中は**テストモード**の価格IDを使用してください

---

## 📸 画面の見つけ方（補足）

### 日本語UIの場合

```
Stripeダッシュボード
├─ 製品（左メニュー）
│  └─ 製品一覧
│     └─ [製品名]をクリック
│        └─ 製品の詳細ページ
│           ├─ 製品ID: prod_...
│           └─ 価格セクション
│              └─ 「価格を追加」ボタン
│                 └─ 価格作成フォーム
│                    └─ 価格を保存
│                       └─ 価格ID: price_... ← ここに表示
```

### 英語UIの場合

```
Stripe Dashboard
├─ Products (left menu)
│  └─ Products list
│     └─ Click [Product name]
│        └─ Product details page
│           ├─ Product ID: prod_...
│           └─ Prices section
│              └─ "Add price" button
│                 └─ Price creation form
│                    └─ Save price
│                       └─ Price ID: price_... ← Displayed here
```

---

## 🎉 完了

価格IDを取得して`.env.local`に設定すれば、Stripe決済機能が利用可能になります！

---

## 📚 参考

- **Stripe価格の作成**: https://stripe.com/docs/prices/overview
- **Stripeダッシュボード**: https://dashboard.stripe.com

