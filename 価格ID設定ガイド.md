# Stripe価格ID（Price ID）設定ガイド

## 📝 価格IDとは？

**価格ID（Price ID）**は、Stripeダッシュボードで作成した価格（プラン）に割り当てられる一意の識別子です。

- 形式: `price_...`で始まる文字列（例: `price_1ABC123def456GHI789`）
- 用途: どの価格（プラン）を使用するかをStripeに伝える
- 設定場所: `.env.local`ファイルの`STRIPE_PRICE_ID_GROW`

---

## 🔧 価格IDを取得する手順

### 1. Stripeダッシュボードで価格を作成

1. Stripeダッシュボードにログイン: https://dashboard.stripe.com
2. **「テストモード」がON**になっていることを確認（右上のスイッチ）
3. 左メニューから「**製品**」をクリック
4. 「**価格を追加**」ボタンをクリック

### 2. 価格の設定

以下の設定で価格を作成してください：

- **価格タイプ**: 「**定期**」（サブスクリプション）を選択
- **価格**: `200`
- **通貨**: `JPY`（日本円）を選択
- **請求期間**: 「**月次**」を選択
- その他の設定はデフォルトのままでOK

### 3. 価格IDをコピー

1. 価格を作成すると、価格の詳細ページが表示されます
2. 価格IDは以下の場所に表示されます：
   - 価格の詳細ページの上部
   - 「価格ID」または「Price ID」というラベル
   - `price_`で始まる文字列（例: `price_1ABC123def456GHI789`）

**価格IDの例:**
```
price_1ABC123def456GHI789
```

### 4. `.env.local`ファイルに設定

`creator-collab/.env.local`ファイルを開き、以下の行を編集：

```env
STRIPE_PRICE_ID_GROW=price_1ABC123def456GHI789
```

実際の価格IDに置き換えてください。

---

## 📋 設定例

### 価格を作成する前

`.env.local`ファイル：
```env
STRIPE_PRICE_ID_GROW=price_YOUR_GROW_PLAN_PRICE_ID_HERE
```

### 価格を作成した後

`.env.local`ファイル：
```env
STRIPE_PRICE_ID_GROW=price_1ABC123def456GHI789
```

（`price_1ABC123def456GHI789`は実際の価格IDに置き換えてください）

---

## 🔍 価格IDの確認方法

### 方法1: 価格の詳細ページから

1. Stripeダッシュボードで「製品」→「価格」を開く
2. 作成した価格をクリック
3. 価格の詳細ページで価格IDを確認

### 方法2: 価格一覧から

1. Stripeダッシュボードで「製品」→「価格」を開く
2. 価格一覧のテーブルに「価格ID」列が表示される場合があります
3. または、価格をクリックして詳細ページで確認

---

## ⚠️ 重要な注意点

### テストモードと本番モード

- **テストモード**で作成した価格IDは、テストモードでのみ使用可能
- **本番モード**で作成した価格IDは、本番モードでのみ使用可能
- テストモードと本番モードでは、**異なる価格ID**になります

### 価格IDの形式

- 必ず `price_` で始まる
- 英数字とアンダースコアで構成される
- 例: `price_1ABC123def456GHI789`

---

## 🧪 動作確認

価格IDを設定した後：

1. サーバーを再起動: `npm run dev`
2. ブラウザで `http://localhost:3000/pricing` にアクセス
3. Grow Planの「プランを選択」ボタンをクリック
4. Stripeの決済画面が表示され、¥200/月のプランが表示されることを確認

---

## ❓ よくある質問

### Q: 価格IDが見つからない

A: 価格の詳細ページを確認してください。価格IDは必ず表示されています。

### Q: 複数の価格を作成した場合、どれを使えばいい？

A: Grow Plan（¥200/月）の価格IDを使用してください。複数の価格がある場合は、価格の詳細（金額、請求期間など）を確認して選択してください。

### Q: 価格IDを変更したい

A: `.env.local`ファイルの`STRIPE_PRICE_ID_GROW`の値を変更し、サーバーを再起動してください。

---

## 📚 参考

- **Stripe価格の作成**: https://stripe.com/docs/prices/overview
- **価格IDの取得**: Stripeダッシュボードの「製品」→「価格」から確認

---

価格IDを設定することで、Stripeがどの価格（プラン）を使用するかを認識できるようになります！✅

